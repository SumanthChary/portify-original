<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="header">
    <div class="logo">ðŸš€ Portify</div>
    <div class="subtitle">Live Browser Automation</div>
  </div>
  
  <div class="status">
    <div class="status-indicator disconnected" id="statusIndicator"></div>
    <span id="statusText">Ready to connect</span>
  </div>
  
  <button class="connect-btn" id="connectBtn">
    Connect to Web App
  </button>
  
  <div class="instructions">
    <strong>How to use:</strong>
    <ol>
      <li>Click "Connect to Web App" above</li>
      <li>Open <a href="https://portify-original.lovable.app/live-automation" class="web-app-link" target="_blank">Portify Live Automation</a></li>
      <li>Paste the Offer below when the web app shows it</li>
      <li>Copy the generated Answer back into the web app</li>
    </ol>
  </div>
  
  <div class="session-info" id="sessionInfo" style="display: none;">
    <strong>Session ID:</strong>
    <div class="session-id-container">
      <div class="session-id" id="sessionId"></div>
      <button class="copy-btn" id="copyBtn">Copy</button>
    </div>
    <div style="margin-top: 8px;">
      <strong>Status:</strong> <span id="connectionStatus">Connecting...</span>
    </div>
  </div>
  
  <div class="manual-pairing" style="margin-top:12px;">
    <strong>Manual WebRTC Pairing</strong>
    <div style="margin-top:6px;">
      <label>Paste Offer (from Web App):</label>
      <textarea id="offerInput" placeholder='Paste SDP Offer JSON here' style="width:100%;height:80px"></textarea>
      <button class="copy-btn" id="sendOfferBtn">Send Offer to Extension</button>
    </div>
    <div style="margin-top:10px;">
      <label>Answer (copy to Web App):</label>
      <textarea id="answerOutput" readonly style="width:100%;height:80px"></textarea>
      <button class="copy-btn" id="copyAnswerBtn">Copy Answer</button>
    </div>
  </div>
  
  <div id="messageContainer"></div>

  <script src="popup.js"></script>
</body>
</html>